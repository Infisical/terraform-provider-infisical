---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "infisical_external_kms_aws Resource - terraform-provider-infisical"
subcategory: "External KMS"
description: |-
  Create and manage AWS External KMS
---

# infisical_external_kms_aws (Resource)

Create and manage AWS External KMS

## Example Usage

```terraform
terraform {
  required_providers {
    infisical = {
      # version = <latest version>
      source = "infisical/infisical"
    }
  }
}

provider "infisical" {
  host = "https://app.infisical.com" # Only required if using self hosted instance of Infisical, default is https://app.infisical.com
  auth = {
    universal = {
      client_id     = "<machine-identity-client-id>"
      client_secret = "<machine-identity-client-secret>"
    }
  }
}

resource "infisical_external_kms_aws" "external-kms-aws-assume-role" {
  name        = "aws-assume-role-external-kms"
  description = "AWS External KMS using assume-role type"
  configuration = {
    aws_region     = "us-east-1"
    aws_kms_key_id = "<aws-kms-key-id>"
    type           = "assume-role"
    credential = {
      role_arn         = "<assume-role-arn>"
      role_external_id = "<role-external-id>"
    }
  }
}

resource "infisical_external_kms_aws" "external-kms-aws-access-key" {
  name        = "aws-access-key-external-kms"
  description = "AWS External KMS using access-key type"
  configuration = {
    aws_region     = "us-east-1"
    aws_kms_key_id = "<aws-kms-key-id>"
    type           = "access-key"
    credential = {
      access_key_id     = "<access-key-id>"
      secret_access_key = "<secret-access-key>"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `configuration` (Attributes) The configuration for the AWS External KMS (see [below for nested schema](#nestedatt--configuration))
- `name` (String) The name of the KMS to create. Must be slug-friendly

### Optional

- `description` (String) An optional description for the KMS.

### Read-Only

- `credentials_hash` (String) The hash of the AWS External KMS credentials
- `id` (String) The ID of the KMS

<a id="nestedatt--configuration"></a>
### Nested Schema for `configuration`

Required:

- `aws_kms_key_id` (String) The AWS KMS key ID to use for the external KMS. For more details, refer to the documentation here https://infisical.com/docs/documentation/platform/kms-configuration/aws-kms#param-aws-kms-key-id
- `aws_region` (String) The AWS region where the KMS key is located
- `credential` (Attributes) The AWS credentials for the external KMS (see [below for nested schema](#nestedatt--configuration--credential))
- `type` (String) The Authentication Type to use. Must be access-key or assume-role

<a id="nestedatt--configuration--credential"></a>
### Nested Schema for `configuration.credential`

Optional:

- `access_key_id` (String, Sensitive) The AWS Access Key ID used to authenticate requests to AWS services. Required for access-key type. For more details, refer to the documentation here https://infisical.com/docs/documentation/platform/kms-configuration/aws-kms#param-access-key-id
- `role_arn` (String, Sensitive) The Amazon Resource Name (ARN) of the IAM role to assume for performing operations. Infisical will assume this role using AWS Security Token Service (STS). Required for assume-role type. For more details, refer to the documentation here https://infisical.com/docs/documentation/platform/kms-configuration/aws-kms#param-iam-role-arn-for-role-assumption
- `role_external_id` (String, Sensitive) The external ID of the role to assume for performing operations. Required for assume-role type. For more details, refer to the documentation here https://infisical.com/docs/documentation/platform/kms-configuration/aws-kms#param-assume-role-external-id
- `secret_access_key` (String, Sensitive) The AWS Secret Access Key associated with the Access Key ID to authenticate requests to AWS services. Required for access-key type. For more details, refer to the documentation here https://infisical.com/docs/documentation/platform/kms-configuration/aws-kms#param-secret-access-key
