---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "infisical_cert_manager_certificate Resource - terraform-provider-infisical"
subcategory: ""
description: |-
  Request and manage certificates from Infisical certificate profiles. Supports both CSR-based and direct field requests. The resource will poll until the certificate is issued or a timeout is reached. Only Machine Identity authentication is supported for this resource.
---

# infisical_cert_manager_certificate (Resource)

Request and manage certificates from Infisical certificate profiles. Supports both CSR-based and direct field requests. The resource will poll until the certificate is issued or a timeout is reached. Only Machine Identity authentication is supported for this resource.

## Example Usage

```terraform
terraform {
  required_providers {
    infisical = {
      # version = <latest version>
      source = "infisical/infisical"
    }
  }
}

provider "infisical" {
  host = "https://app.infisical.com" # Only required if using self hosted instance of Infisical, default is https://app.infisical.com
  auth = {
    universal = {
      client_id     = "<machine-identity-client-id>"
      client_secret = "<machine-identity-client-secret>"
    }
  }
}

# Request a certificate
resource "infisical_cert_manager_certificate" "my_cert" {
  profile_id          = "<internal-ca-profile-id>"
  common_name         = "api.example.com"
  alt_names           = ["api.example.com", "api-internal.example.com"]
  organization        = "Example Corp"
  country             = "US"
  key_algorithm       = "RSA_2048"
  signature_algorithm = "RSA-SHA256"
  ttl                 = "90d"
  timeout_seconds     = 300
}


# Request a certificate using a CSR file
resource "infisical_cert_manager_certificate" "csr_based_cert" {
  profile_id      = "<profile-id>"
  csr_path        = "./my-certificate.csr"
  timeout_seconds = 300
}

# Outputs
output "cert_details" {
  value = {
    id            = infisical_cert_manager_certificate.my_cert.id
    status        = infisical_cert_manager_certificate.my_cert.status
    serial_number = infisical_cert_manager_certificate.my_cert.serial_number
    not_before    = infisical_cert_manager_certificate.my_cert.not_before
    not_after     = infisical_cert_manager_certificate.my_cert.not_after
  }
}

output "cert_pem" {
  value     = infisical_cert_manager_certificate.my_cert.certificate
  sensitive = true
}

output "cert_chain" {
  value     = infisical_cert_manager_certificate.my_cert.certificate_chain
  sensitive = true
}

output "cert_private_key" {
  value     = infisical_cert_manager_certificate.my_cert.private_key
  sensitive = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `profile_id` (String) The ID of the certificate profile to use for issuance

### Optional

- `alt_names` (List of String) Subject alternative names (SANs) for the certificate
- `common_name` (String) The common name (CN) for the certificate. Required when not using CSR
- `country` (String) The country (C) for the certificate (2-letter code)
- `csr_path` (String) Path to a Certificate Signing Request (CSR) file in PEM format. If provided, the certificate will be issued based on the CSR
- `extended_key_usages` (List of String) Extended key usages for the certificate. Supported: client_auth, server_auth, code_signing, email_protection, ocsp_signing, time_stamping
- `key_algorithm` (String) The key algorithm for the certificate. Supported: RSA_2048, RSA_3072, RSA_4096, ECDSA_P256, ECDSA_P384, ECDSA_P521
- `key_usages` (List of String) Key usages for the certificate. Supported: digital_signature, key_encipherment, non_repudiation, data_encipherment, key_agreement, key_cert_sign, crl_sign, encipher_only, decipher_only
- `locality` (String) The locality (L) for the certificate
- `organization` (String) The organization (O) for the certificate
- `ou` (String) The organizational unit (OU) for the certificate
- `province` (String) The state/province (ST) for the certificate
- `signature_algorithm` (String) The signature algorithm for the certificate. Supported: RSA-SHA256, RSA-SHA384, RSA-SHA512, ECDSA-SHA256, ECDSA-SHA384, ECDSA-SHA512
- `timeout_seconds` (Number) Maximum time to wait for certificate issuance in seconds. Defaults to 3600 (1 hour)
- `ttl` (String) Time to live for the certificate (e.g., '30d', '90d', '1y')

### Read-Only

- `certificate` (String, Sensitive) The issued certificate in PEM format
- `certificate_chain` (String, Sensitive) The certificate chain in PEM format
- `certificate_request_id` (String) The ID of the certificate request
- `id` (String) The ID of the certificate
- `not_after` (String) The not-after (expiration) date of the certificate (RFC3339 format)
- `not_before` (String) The not-before date of the certificate (RFC3339 format)
- `private_key` (String, Sensitive) The private key in PEM format (only available for direct field requests, not CSR-based)
- `serial_number` (String) The serial number of the issued certificate
- `status` (String) The status of the certificate (pending, issued, failed)
