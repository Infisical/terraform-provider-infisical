---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "infisical_dynamic_secret_mongo_atlas Resource - terraform-provider-infisical"
subcategory: ""
description: |-
  Create and manage MongoDB Atlas Dynamic Secret
---

# infisical_dynamic_secret_mongo_atlas (Resource)

Create and manage MongoDB Atlas Dynamic Secret

## Example Usage

```terraform
terraform {
  required_providers {
    infisical = {
      # version = <latest version>
      source = "infisical/infisical"
    }
  }
}

provider "infisical" {
  host = "https://app.infisical.com" # Only required if using self hosted instance of Infisical, default is https://app.infisical.com
  auth = {
    universal = {
      client_id     = "<machine-identity-client-id>"
      client_secret = "<machine-identity-client-secret>"
    }
  }
}

resource "infisical_dynamic_secret_mongo_atlas" "mongo-atlas" {
  name             = "mongo-atlas-dynamic-secret"
  project_slug     = "your-project-slug"
  environment_slug = "dev"
  path             = "/"
  default_ttl      = "1h"
  max_ttl          = "24h"

  configuration = {
    public_key  = "YOUR_MONGO_ATLAS_PUBLIC_KEY"
    private_key = "YOUR_MONGO_ATLAS_PRIVATE_KEY"
    group_id    = "YOUR_MONGO_ATLAS_PROJECT_ID"
    roles       = "readWrite@myDatabase,read@admin"
    scopes      = "myCluster1,myCluster2" # Optional - restrict to specific clusters
  }

  username_template = "{{randomUsername}}"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `configuration` (Attributes) The configuration of the dynamic secret (see [below for nested schema](#nestedatt--configuration))
- `default_ttl` (String) The default TTL that will be applied for all the leases.
- `environment_slug` (String) The slug of the environment to create the dynamic secret in.
- `name` (String) The name of the dynamic secret.
- `path` (String) The path to create the dynamic secret in.
- `project_slug` (String) The slug of the project to create dynamic secret in.

### Optional

- `max_ttl` (String) The maximum limit a TTL can be leased or renewed.
- `metadata` (Attributes Set) The metadata associated with this dynamic secret (see [below for nested schema](#nestedatt--metadata))
- `username_template` (String) The username template of the dynamic secret

### Read-Only

- `id` (String) The ID of the dynamic secret.

<a id="nestedatt--configuration"></a>
### Nested Schema for `configuration`

Required:

- `group_id` (String) The MongoDB Atlas project ID (also known as group ID).
- `private_key` (String, Sensitive) The MongoDB Atlas private API key for authentication.
- `public_key` (String) The MongoDB Atlas public API key for authentication.
- `roles` (String) Comma-separated list of roles to assign to the created database user. Example: 'readWrite@mydb,read@admin'

Optional:

- `scopes` (String) Comma-separated list of cluster names or data lake names to restrict the database user to. If not specified, the user will have access to all clusters and data lakes in the project.


<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Required:

- `key` (String) The key of the metadata object
- `value` (String) The value of the metadata object
